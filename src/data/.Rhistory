data <- read.csv("dontpatronizeme_v1.4/dontpatronizeme_categories.tsv", sep = '\t', header = F)
#drop irrelevant columns and empty rows
data <-  data[-c(1:3),-c(1:3, 6:8)]
#rename columns
names(data) <- c("vul_cat", "country", "pcl_cat", "annotator")
countries <- xtabs(~data$country, data = data)
pcl <- xtabs(~data$pcl_cat, data = data)
vul <- xtabs(~data$vul_cat, data = data)
library(RColorBrewer)
palette <- brewer.pal(8, "Set2")
palette2 <- brewer.pal(8, "Pastel2")
barplot(sort(countries),
las = 2,
col=palette,
main = "Countries in data")
names = c("The p., the m.", "Shallow solution", "Metaphors", "Authority voice", "Presupp.", "Compassion", "Unb. power rel.")
par(mar=c(7.5,4,4,2))
plot <- barplot(sort(pcl),
names.arg = names,
las = 2,
col=palette,
main ="PCL categories in data",
ylim = c(0,1100))
text(x = plot, y = sort(pcl) + 40, labels = sort(pcl))
barplot(sort(vul),
col=palette,
las = 2,
main = "Vulnerable groups in data")
par(mar=c(7.5,4,4,2))
plot <- barplot(sort(pcl),
names.arg = names,
las = 2,
col=palette,
main ="PCL categories in data",
ylim = c(0,1100))
par(mar=c(7.5,4,4,2))
plot <- barplot(sort(pcl),
names.arg = names,
las = 2,
col=palette,
main ="PCL categories in data",
ylim = c(0,1100))
text(x = plot, y = sort(pcl) + 40, labels = sort(pcl))
barplot(sort(vul),
col=palette,
las = 2,
main = "Vulnerable groups in data")
plot <- barplot(sort(pcl),
names.arg = names,
las = 2,
col=palette,
main ="PCL categories in data",
ylim = c(0,1100))
text(x = plot, y = sort(pcl) + 40, labels = sort(pcl))
par(mar=c(7.5,4,4,2))
plot <- barplot(sort(pcl),
names.arg = names,
las = 2,
col=palette,
main ="PCL categories in data",
ylim = c(0,1100))
text(x = plot, y = sort(pcl) + 40, labels = sort(pcl))
barplot(sort(vul),
col=palette,
las = 2,
main = "Vulnerable groups in data")
barplot(sort(vul),
col=palette,
las = 2,
main = "Vulnerable groups in data",
ylim = c(0,700))
barplot(sort(vul),
col=palette,
las = 2,
main = "Vulnerable groups in data",
ylim = c(0,600))
plot(num_cat, scores_cat, ylab = "F1", xlab = "Number of category instance in the data", main = "Simple BiLSTM")
pcl
# How often did a category appear in the data? (not taking into account that we later deleted one paragraph)
num_cat <- c(968, 285, 227, 296, 682, 250, 52)
# F1 scores of the simple model
scores_cat <- c(87.36, 45.57, 43.24, 36.36, 65.43, 31.75, 0)
# F1 scores of the 10-fold cross validation model
scores_cat2 <- c(88.34, 46.46, 43.08, 37.97, 60.49, 42.62,0)
#correlation coefficient simple BiLSTM
cor(num_cat, scores_cat, method = "pearson" )
#correlation coefficient BiLSTM kCV
cor(num_cat, scores_cat2, method = "pearson" )
plot(num_cat, scores_cat, ylab = "F1", xlab = "Number of category instance in the data", main = "Simple BiLSTM")
plot(num_cat, scores_cat2, ylab = "F1", xlab = "Number of category instance in the data", main = "10-fold cross validation BiLSTM")
plot(num_cat, scores_cat, ylab = "F1", xlab = "Number of category instance in the data", main = "Simple BiLSTM")
